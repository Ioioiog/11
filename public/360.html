<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ApartamentDeLux.ro - Tur Virtual 360° | Apartamente de Lux în București</title>
    <meta name="description" content="Explorează apartamentele noastre de lux în București prin tururi virtuale 360°. Vizualizare imersivă a proprietăților exclusiviste." />
    <meta name="author" content="Lovable" />
    <meta property="og:image" content="/og-image.png" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
      body {
        margin: 0;
        font-family: 'Inter', sans-serif;
      }
      .viewer-container {
        position: fixed;
        inset: 0;
        background: black;
      }
      .controls-panel {
        position: fixed;
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border-radius: 9999px;
        padding: 12px 24px;
        display: flex;
        gap: 16px;
      }
      .info-panel {
        position: fixed;
        top: 32px;
        right: 32px;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border-radius: 16px;
        padding: 24px;
        width: 384px;
        max-width: 90vw;
      }
      .main-navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(8px);
        padding: 16px 32px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 50;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      }
      .navbar-brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .brand-logo {
        height: 48px;
        width: auto;
      }
      .brand-text {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1f2937;
        text-decoration: none;
      }
      .brand-slogan {
        font-size: 0.75rem;
        letter-spacing: 0.05em;
        color: #FFB088;
        line-height: 1.25;
      }
      .nav-action-btn {
        padding: 8px 16px;
        border-radius: 8px;
        background: #FF9966;
        color: white;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 300ms;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .nav-action-btn:hover {
        background: #FF7733;
        transform: translateY(-2px);
      }
      @media (max-width: 768px) {
        .main-navbar {
          padding: 16px;
          flex-direction: column;
          gap: 16px;
        }
        .navbar-controls {
          width: 100%;
        }
        .nav-group {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <nav class="main-navbar">
      <div class="navbar-brand">
        <img 
          src="https://apartamentdelux.ro/assets/logo-DmiD_IiC.png" 
          alt="Apartment Delux logo" 
          class="brand-logo"
        />
        <div>
          <a 
            href="https://apartamentdelux.ro" 
            target="_blank" 
            class="brand-text"
            rel="noopener noreferrer"
          >
            apartamentdelux.ro
          </a>
          <div class="brand-slogan">
            BEYOND WALLS<br />
            EMBRACE YOUR HOME
          </div>
        </div>
      </div>
    </nav>

    <div id="viewer" class="viewer-container"></div>

    <div class="controls-panel">
      <button class="nav-action-btn" onclick="rotateLeft()">Rotate Left</button>
      <button class="nav-action-btn" onclick="rotateRight()">Rotate Right</button>
      <button class="nav-action-btn" onclick="zoomIn()">Zoom In</button>
      <button class="nav-action-btn" onclick="zoomOut()">Zoom Out</button>
    </div>

    <div class="info-panel">
      <h2 style="margin-top: 0; font-size: 1.25rem; font-weight: 600;">Yacht A.2.5</h2>
      <p style="margin: 8px 0; color: #4B5563;">
        Apartament de lux cu 3 camere în complexul rezidențial Yacht. Vedere panoramică spre lac, finisaje premium și dotări de ultimă generație.
      </p>
    </div>

    <script>
      let scene, camera, renderer, controls;
      let isDragging = false;
      let previousMousePosition = { x: 0, y: 0 };

      function init() {
        // Scene setup
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('viewer').appendChild(renderer.domElement);

        // Create panorama sphere
        const geometry = new THREE.CylinderGeometry(50, 50, 50, 60, 1, true);
        geometry.scale(-1, 1, 1);

        // Load panorama texture
        const loader = new THREE.TextureLoader();
        loader.load(
          '/lovable-uploads/6922cab3-6a49-42cf-989d-469af0423578.png',
          (texture) => {
            texture.wrapS = THREE.RepeatWrapping;
            texture.repeat.x = -1;
            const material = new THREE.MeshBasicMaterial({ map: texture });
            const cylinder = new THREE.Mesh(geometry, material);
            scene.add(cylinder);
            console.log('Panorama loaded successfully');
          },
          undefined,
          (error) => console.error('Error loading panorama:', error)
        );

        camera.position.set(0, 0, 0.1);

        // Event listeners
        document.addEventListener('mousedown', onMouseDown);
        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
        document.addEventListener('wheel', onWheel);
        window.addEventListener('resize', onWindowResize);

        animate();
      }

      function onMouseDown(event) {
        isDragging = true;
        previousMousePosition = {
          x: event.clientX,
          y: event.clientY
        };
      }

      function onMouseMove(event) {
        if (!isDragging) return;

        const deltaMove = {
          x: event.clientX - previousMousePosition.x,
          y: event.clientY - previousMousePosition.y
        };

        camera.rotation.y += deltaMove.x * 0.005;
        camera.rotation.x += deltaMove.y * 0.005;

        previousMousePosition = {
          x: event.clientX,
          y: event.clientY
        };
      }

      function onMouseUp() {
        isDragging = false;
      }

      function onWheel(event) {
        camera.position.z += event.deltaY * 0.001;
        camera.position.z = Math.max(0.1, Math.min(2, camera.position.z));
      }

      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }

      function animate() {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
      }

      // Control functions
      function rotateLeft() {
        camera.rotation.y += 0.1;
      }

      function rotateRight() {
        camera.rotation.y -= 0.1;
      }

      function zoomIn() {
        camera.position.z = Math.max(0.1, camera.position.z - 0.1);
      }

      function zoomOut() {
        camera.position.z = Math.min(2, camera.position.z + 0.1);
      }

      // Initialize the viewer
      init();
    </script>
  </body>
</html>
